package jp.nephy.penicillin.api.endpoint

import com.github.salomonbrys.kotson.*
import com.google.gson.JsonElement
import jp.nephy.penicillin.api.AbsOAuthGet
import jp.nephy.penicillin.api.Parameter
import jp.nephy.penicillin.api.ResponseFormats
import jp.nephy.penicillin.request.handler.OAuthRequestHandler

class FriendsIdsModel(val json: JsonElement) {
    val ids by json.byNullableArray // [3237434718, 3172152914, 2890235671, 1550044495, 1074448466, 740548846359564289, 4342272732, 800190560, 115639376, 304765874, 2242219830, 899687191227490304, 861806927042330624, 852485741334507520, 107697141, 127552216, 562773398, 961844316, 1307707111, 870547677364101120, 112551613, 985973888, 130447415, 480376267, 865013606714228737, 608806310, 87102099, 14439113, 888988771525382145, 3281643758, 889218004550135810, 3978698354, 63707410, 886206400560373762, 886066438917677056, 882789714201198592, 808468854, 859739669419802624, 468122115, 795162847772717056, 884610960954073088, 871556454389391361, 813281546035544064, 77621446, 129806589, 776037488422850560, 2725547185, 1130132168, 39394680, 602926514, 2957420460, 780727620950339584, 1723093297, 779185457158467584, 109758782, 44353677, 550925485, 860316980896702464, 843036867608043521, 862131238554841090, 1844447204, 3191805905, 872572365946765312, 873728160281509890, 44306171, 741471127608774657, 145991905, 335291833, 781726871973142528, 869923689071910912, 17982552, 3131478489, 719324795167309827, 2941627460, 91596374, 844180910861836288, 750234036044312577, 846351355744694272, 839698643871383555, 113696592, 19643522, 4664726178, 1681504458, 36803580, 1118058618, 727839922799841281, 710658568416985088, 84041827, 31070671, 2888594898, 3085583072, 852520025311199234, 15511713, 623514626, 1150758619, 3065618342, 2964034110, 712578647056584704, 703590726211235840, 2834782807, 840064799866146818, 740794036722774017, 730222004071108609, 798902408168370180, 829537711904022528, 4781715433, 759797337103278080, 4221891466, 5335922, 761808645319340033, 802591602011082752, 1164577807, 2784432241, 718752922553573376, 2955238457, 781267568917110784, 785718522932449280, 783521450061918210, 778188035385163776, 2313487062, 731079504785858560, 2535600961, 6162692, 769168120229470213, 1713258608, 2580269936, 767667409708683264, 200892072, 765560864413847552, 14064836, 739014054358880256, 2318554220, 14800130, 156338422, 752058241022955520, 1704389912, 3436561514, 751005022826233856, 2758473847, 2419049215, 895519776, 731438893594087424, 218511328, 3268908182, 873775722, 204245399, 4575535932, 742658995589025794, 175495968, 101445646, 1557052092, 698473849248047105, 933178201, 2580392005, 2343066150, 2221361616, 445293629, 71972515, 3307691394, 4886379446, 16222364, 610039945, 1684851180, 296881914, 4815393629, 2723592515, 279120513, 4593216259, 2539019107, 2525099894, 713952253665611777, 712481484574056450, 710801754187702272, 120726371, 3120574812, 22240094, 3296874998, 2231295349, 2781821318, 2228543922, 703578263273107456, 2489369304, 244283879, 2781847164, 1378492016, 2616642198, 2148778580, 2993203639, 1329432378, 19648133, 3989549954, 4718539926, 3013474267, 2679479930, 1879461198, 3146563391, 2642892792, 3270924540, 3257907193, 3389477352, 3244297118, 3281192628, 2272514088, 399364390, 2615350431, 397990980, 3119098699, 2875784190, 3504075854, 2938714640, 3979058718, 1585173715, 2921348066, 2650347516, 2360483082, 1890430471, 3125115122, 362401254, 1424581783, 284449718, 1595942958, 187122753, 2632291, 3149412728, 2452731350, 3321163104, 2485176368, 2655572778, 1015008854, 1087220629, 1684458510, 239756868, 864325214, 92230963, 54882396, 1583085799, 2569492147, 1960544382, 172589388, 749096594, 465521654, 731731680, 293996200, 1106164542, 625120196, 3149796962, 2418912169, 1512212594, 996659526, 1610344716, 355472507, 2729203243, 313918526, 2431632024, 2740891458, 198333302, 116548789, 531383859, 341932656, 1251631866, 379042486, 2401419547, 1711547065, 306117039, 2714482520, 1516334598, 10557722, 446704405, 1701439477, 875469908, 2721413990, 2767978730, 2586040892, 592625046, 2499551070, 2463194408, 2414861263, 132846868, 96057835, 3067801309, 3560840178, 2597946488, 3102377076, 2939863963, 850844893, 180848288, 1419608497, 1864112564, 2906540101, 584845298, 553513912, 1003636460, 1125217380, 731767242, 2301561284, 414676430, 3100189094, 2175733826, 1398627882, 4595221351, 2345972682, 2568675858, 1114300940, 127615553, 1341519956, 4557588853, 4775969598, 547406123, 2360591840, 1682917465, 3413741954]
    val nextCursor by json.byNullableInt("next_cursor") // 0
    val nextCursorStr by json.byNullableString("next_cursor_str") // "0"
    val previousCursor by json.byNullableInt("previous_cursor") // 0
    val previousCursorStr by json.byNullableString("previous_cursor_str") // "0"
}

class FriendsIds(oauth: OAuthRequestHandler) : AbsOAuthGet<FriendsIdsModel>(oauth) {
    override val resourceUrl = "https://api.twitter.com/1.1/friends/ids.json"
    override val responseFormat = ResponseFormats.JSON
    override val isRateLimited = true
    override val defaultParameter = Parameter()
}
